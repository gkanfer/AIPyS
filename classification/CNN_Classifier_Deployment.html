<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CNN_Classifier_Deployment &mdash; aipys-sphinx-test 0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=d45e8c67"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="AIPyS" href="../source/modules.html" />
    <link rel="prev" title="Convolutional_Neural_Network_Classifier" href="Convolutional_Neural_Network_Classifier.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            aipys-sphinx-test
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deploying_aipys.html">deploying_aipys</a></li>
<li class="toctree-l1"><a class="reference internal" href="../segmentation/index.html">segmentation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">classification</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Naive_Bayes_Classifier.html">Naive_Bayes_Classifier</a></li>
<li class="toctree-l2"><a class="reference internal" href="Bayes_classifier_deployment.html">Bayes_classifier_deployment</a></li>
<li class="toctree-l2"><a class="reference internal" href="Convolutional_Neural_Network_Classifier.html">Convolutional_Neural_Network_Classifier</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">CNN_Classifier_Deployment</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../source/modules.html">AIPyS</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">aipys-sphinx-test</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">classification</a></li>
      <li class="breadcrumb-item active">CNN_Classifier_Deployment</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/classification/CNN_Classifier_Deployment.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="cnn-classifier-deployment">
<h1>CNN_Classifier_Deployment<a class="headerlink" href="#cnn-classifier-deployment" title="Link to this heading">ÔÉÅ</a></h1>
<p>Instead of using Bayes Granularity to deploy a model, the AIPyS Convolutional Neural Network (CNN) model can be used for detecting the desired phenotypes. To use the CNN model, it must be exported and then utilized with the Nikon NIS Elements HCT package. A bash file is used to instruct the NIS jobs module to run the AIPyS.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>@echo<span class="w"> </span>on
call<span class="w"> </span>activate<span class="w"> </span>AIPys_conda_env
call<span class="w"> </span>python<span class="w"> </span>D:<span class="se">\r</span>un_CNN_Classifier.py
@pause
</pre></div>
</div>
<p>When obtaining an image, a single-channel image is taken and then stored on the local system.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">AIPyS.Baysian_deploy</span> <span class="kn">import</span> <span class="n">BayesianGranularityDeploy</span>
<span class="n">file_name</span> <span class="o">=</span> <span class="s1">&#39;input.tif&#39;</span>
<span class="n">path_model</span> <span class="o">=</span> <span class="s1">&#39;data&#39;</span>
<span class="n">path_input</span> <span class="o">=</span> <span class="s1">&#39;C:\NIS\outproc&#39;</span>
<span class="n">path_out</span> <span class="o">=</span> <span class="n">path_input</span>

<span class="n">CNNDeploy</span><span class="p">(</span><span class="n">path_model</span> <span class="o">=</span> <span class="n">path_model</span><span class="p">,</span> <span class="n">model</span> <span class="o">=</span> <span class="s1">&#39;cnn.h5&#39;</span><span class="p">,</span>
          <span class="n">file_name</span> <span class="o">=</span> <span class="n">file_name</span><span class="p">,</span> <span class="n">path</span> <span class="o">=</span> <span class="n">path_input</span><span class="p">,</span> <span class="n">pathOut</span> <span class="o">=</span> <span class="n">path_out</span><span class="p">,</span>
          <span class="n">areaFilter</span> <span class="o">=</span> <span class="mi">1500</span><span class="p">,</span> <span class="n">thr</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
</pre></div>
</div>
<p>The CNNDeploy function returns a binary mask of the cells that represent the chosen phenotype. This mask is saved as binary.tif and then uploaded to the NIS-Elements module, where it is converted into a Region of Interest (ROI). The simulation module then takes the photostimulation raster and uses a UV laser to activate those regions.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Convolutional_Neural_Network_Classifier.html" class="btn btn-neutral float-left" title="Convolutional_Neural_Network_Classifier" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../source/modules.html" class="btn btn-neutral float-right" title="AIPyS" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Gil Kanfer.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>